<!DOCTYPE html>
<html lang="fa" dir="rtl">
        <head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Ø§Ø®ØªØ± Ø§Ø±Ø¨Ø§Ø¨ Ø²Ø§Ø¯Ù‡ Ù…Ø¸ÙØ±ÛŒ</title>
          <script src="https://cdn.tailwindcss.com"></script>
        <!-- swithc between tabs -->
        <script>
            // Switch tab contents
            function showTabContent(id) {
              document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active-tab'));
              document.getElementById(id).classList.add('active-tab');
            }
        </script>

        <!-- style of html -->
        <style>
            @font-face {
            font-family: 'CustomFont';
            src: url('https://raw.githubusercontent.com/sarvari1378/Files/main/Vazirmatn-Regular.woff2') format('woff2');
            }

            body {
            font-family: 'CustomFont', sans-serif;
            background-color: #202020 !important;
            color: #FFD700;
            }

            /* Action & Tab Button Animation */
            .action-button,  .icon-button {
            transition: transform 0.2s ease-in-out, background-color 0.3s ease;
            }

            .tab-button {
                color: #FFD700;
            }

            .action-button.clicked, .icon-button.clicked {
            transform: scale(1.1);
            background-color: #FFD700;
            color: #FFD700;
            border: 2px solid white;
            }

            .tab-button:hover {
            color: #ff7b00;
            transform: scale(1.1);
            }

            /* Tabs Layout */
            .tabs-container {
            overflow-x: auto;
            white-space: nowrap;
            display: flex;
            gap: 1rem;
            padding-bottom: 0.5rem;
            }

            .tabs-container::-webkit-scrollbar {
            display: none;
            }

            .tab {
            padding: 0.5rem 1rem;
            text-decoration: none;
            color: #FFD700;
            }

            .tab-content {
            display: none;
            padding: 1rem;
            background: #1a1a1a;
            border-radius: 0.5rem;
            margin-top: 1rem;
            color: #FFD700;
            }

            .active-tab {
            display: block;
            }

            #Quran.active-tab {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            min-height: 100vh;
            gap: 20px;
            }

            #Prays.active-tab {
            display: flex;
            flex-direction: row-reverse;
            align-items: center;
            justify-content: center;
            text-align: center;
            gap: 20px;
            }

            /* Gallery Styles */
            .gallery {
            position: relative;
            width: 90%;
            max-width: 600px;
            aspect-ratio: 3 / 2;
            margin: 20px auto;
            overflow: hidden;
            border: 2px solid #FFD700;
            border-radius: 8px;
            background: #000;
            }

            .gallery img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            display: block;
            transform: translateX(0);
            }

            /* Dots Navigation */
            .gallery .dots {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
            }

            .gallery .dot {
            width: 12px;
            height: 12px;
            background-color: #111;
            border: 2px solid #FFD700;
            border-radius: 50%;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.3s ease;
            }

            .gallery .dot.active {
            background-color: #FFD700;
            transform: scale(1.2);
            }

            /* Gallery Buttons */
            .gallery button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: #FFD700;
            color: #111;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            cursor: pointer;
            transition: background-color 0.3s ease, color 0.3s ease, border 0.3s ease;
            z-index: 2;
            }

            .gallery button:hover {
            background-color: #111;
            color: #FFD700;
            border: 2px solid #FFD700;
            }

            .gallery .prev {
            left: 10px !important;
            }

            .gallery .next {
            right: 10px !important;
            }

            /* Spinner for loading images */
            .spinner {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 4px solid #444;
            border-top: 4px solid #FFD700;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            }

            @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
            }

            /* Container for non-gallery images */
            .img-container {
            position: relative;
            display: inline-block;
            }

            .img-container img {
            display: block;
            }

            /* Footer Styles */
            footer {
            margin-top: 2rem;
            padding: 1rem;
            background-color: #1a1a1a;
            text-align: center;
            font-size: 0.9rem;
            color: #FFD700;
            }

            #Quran button {
            background-color: #FFD700;
            color: #111;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            }

            .Praysbtn {
            padding: 12px 28px;
            border-radius: 9999px;
            border: none;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            color: #FFD700;
            background: rgba(255, 215, 0, 0.15);
            backdrop-filter: blur(8px);
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
            user-select: none;
            gap: 60px;
            }

            .Praysbtn:not(.active):hover {
            color: #FFD700;
            background: rgba(255, 215, 0, 0.25);
            box-shadow: 0 6px 20px rgba(255, 215, 0, 0.5);
            }

            .Praysbtn.active {
            background-color: #FFD700;
            box-shadow: 0 0 12px #FFD700cc;
            color: #111;
            }

            .right-column {
            color: #FFD700;
            display: flex;
            flex-direction: column;
            gap: 12px;
            }

        </style>

        <!-- style of elements -->
        <style>
    .video-container {
      position: fixed;
      bottom: 0;
      width: 20vw;
      height: auto;
      pointer-events: none;
    }

    .cheragh-container {
      position: fixed;
      top: 0;
      right: 1;
      width: 20vw;
      height: auto;
      pointer-events: none;
      transform: rotate(-90deg);
      padding-top: 50px;
    }


    .video-left {
      left: 0;
    }

    .video-right {
      right: 0;
    }

    video {
      width: 100%;
      height: auto;
    }
        </style>

        <!-- style of Profile -->
        <style>
        /* ÙÙ‚Ø· Ú©Ù„Ø§Ø³â€ŒÙ‡Ø§ Ùˆ Ø¢ÛŒØ¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…Ø®ØµÙˆØµ Ú¯Ø§Ù„Ø±ÛŒ Ù¾Ø±ÙˆÙØ§ÛŒÙ„ */
        .profile-gallery-img-container img {
            width: 96px;
            height: 96px;
            border-radius: 50%;
            border: 2px solid #ccc;
            cursor: pointer;
            transition: transform 0.3s ease;
            display: block;
            margin: 0 auto;
        }
        .profile-gallery-img-container img:hover {
            transform: scale(1.1);
        }

        .profile-gallery-modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0; top: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8);
            align-items: center;
            justify-content: center;
        }
        .profile-gallery-modal.active {
            display: flex;
        }
        .profile-gallery-modal-content {
            position: relative;
            max-width: 90%;
            max-height: 80%;
        }
        .profile-gallery-modal-content img {
            max-width: 100%;
            max-height: 80vh;
            border-radius: 8px;
            box-shadow: 0 0 15px rgba(255,255,255,0.3);
        }

        .profile-gallery-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: #FFD700;
            color: #111;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            cursor: pointer;
            transition: background-color 0.3s ease, color 0.3s ease, border 0.3s ease;
            z-index: 2;
        }
        .profile-gallery-btn:hover {
            background: rgba(255,255,255,0.6);
        }
        .profile-gallery-btn.prev {
            left: -50px;
        }
        .profile-gallery-btn.next {
            right: -50px;
        }
        .profile-gallery-btn-close {
            position: absolute;
            top: -40px;
            right: 0;
            background: transparent;
            font-size: 2rem;
            border: none;
            color: white;
            cursor: pointer;
        }
        </style>


        </head>
        <body class="bg-white text-gray-900">
          <div class="max-w-4xl mx-auto p-6 text-center">
            <!-- Top Left Icons -->
            <div class="absolute top-4 left-4 flex flex-col space-y-4">
              <button onclick="window.location.href='https://maps.app.goo.gl/zZE4CoPZCn2XLUvT6'" class="p-2 bg-gray-200 rounded-full icon-button">ğŸ“</button>
            </div>
            
            <!-- Profile Section -->
            <div class="profile-gallery-wrapper">
            <div class="profile-gallery-img-container">
                <img 
                src="https://raw.githubusercontent.com/sarvari1378/MemorialQR_Codes/main/Imagees/Taghizade/Profile.jpg" 
                alt="Profile" 
                id="profile-gallery-img"
                >
            </div>
            <h1 class="text-xl font-bold mt-2 text-yellow-400">Ø­Ø§Ø¬ Ø§Ø³Ø¯Ø§Ù„Ù„Ù‡ ØªÙ‚ÛŒ Ø²Ø§Ø¯Ù‡</h1>
            </div>

            <div id="profile-gallery-modal" class="profile-gallery-modal">
            <div class="profile-gallery-modal-content">
                <button class="profile-gallery-btn-close" id="profile-gallery-closeBtn">&times;</button>
                <button class="profile-gallery-btn prev" id="profile-gallery-prevBtn">&#10094;</button>
                <img id="profile-gallery-modal-img" src="" alt="Ø¹Ú©Ø³ Ø¨Ø²Ø±Ú¯" />
                <button class="profile-gallery-btn next" id="profile-gallery-nextBtn">&#10095;</button>
            </div>
            </div>

            
            <!-- Stats Section -->
            <div class="bg-gray-100 p-4 rounded-lg mt-6">
              <div class="grid grid-cols-3 gap-4 text-gray-900">
                <div class="p-4 rounded-lg flex flex-col items-center">
                  <p class="text-lg font-bold">Ù‚Ø±Ø§Ø¦Øª ÙØ§ØªØ­Ù‡</p>
                  <span class="value" id="val-var1">Ø¯Ø±Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</span><button class= "w-8 h-8 bg-white border-2 border-gray-700 rounded-lg text-gray-700 text-xl flex items-center justify-center action-button" data-var="var1">+</button>
                </div>
                <div class="p-4 rounded-lg flex flex-col items-center">
                  <p class="text-lg font-bold">Ù‚Ø±Ø§Ø¦Øª ÙØ§ØªØ­Ù‡</p>
                  <span class="value" id="val-var2">Ø¯Ø±Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</span><button class= "w-8 h-8 bg-white border-2 border-gray-700 rounded-lg text-gray-700 text-xl flex items-center justify-center action-button" data-var="var2">+</button>
                </div>
                <div class="p-4 rounded-lg flex flex-col items-center">
                  <p class="text-lg font-bold">Ø°Ú©Ø± ØµÙ„ÙˆØ§Øª</p>
                  <span class="value" id="val-var3">Ø¯Ø±Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</span><button class= "w-8 h-8 bg-white border-2 border-gray-700 rounded-lg text-gray-700 text-xl flex items-center justify-center action-button" data-var="var3">+</button>
                </div>
              </div>
            </div>
            
            <!-- Navigation Tabs -->
            <div class="tabs-container mt-6">
              <button class="tab-button" onclick="showTabContent('share')">Ø§Ø´ØªØ±Ø§Ú© Ú¯Ø°Ø§Ø±ÛŒ</button>
              <button class="tab-button" onclick="showTabContent('film')">ØªØµØ§ÙˆÛŒØ± Ù…ØªÙˆÙÛŒ</button>
              <button class="tab-button" onclick="showTabContent('Quran')">Ø®ØªÙ… Ù‚Ø±Ø¢Ù†</button>
              <button class="tab-button" onclick="showTabContent('Prays')">Ø¯Ø¹Ø§ Ù‡Ø§ÛŒ Ø¢Ø³Ù…Ø§Ù†ÛŒ</button>
              <button class="tab-button" onclick="showTabContent('Notes')">Ø¯Ù„ Ù†ÙˆØ´ØªÙ‡ Ù‡Ø§</button>
            </div>
            
            <!-- Tab Contents -->
            <div id="share" class="tab-content active-tab">
                <h2 class="text-lg font-bold mb-4">ØªØµÙˆÛŒØ± Ø¨Ø§Ø±Ú©Ø¯ Ø§ÛŒÙ† ØµÙØ­Ù‡</h2>
                <div class="img-container" style="display: inline-block;">
                  <div class="spinner"></div>
                  <img src="https://raw.githubusercontent.com/sarvari1378/MemorialQR_Codes/main/Imagees/Arbabzade/3d8ec07de03970f80ad4a1f05c7091b4.png" alt="Biography Image" class="rounded-lg shadow-lg" style="width: 200px; display: block; margin: 0 auto;" onload="this.previousElementSibling.style.display='none'">
                </div>
                

            </div>
            
            <!-- Film Gallery Tab -->
            <div id="film" class="tab-content">
              <div class="gallery" data-images='[
                "https://raw.githubusercontent.com/sarvari1378/MemorialQR_Codes/main/Imagees/Taghizade/01.jpg",
                "https://raw.githubusercontent.com/sarvari1378/MemorialQR_Codes/main/Imagees/Taghizade/02.jpg",
                "https://raw.githubusercontent.com/sarvari1378/MemorialQR_Codes/main/Imagees/Taghizade/03.jpg",
                "https://raw.githubusercontent.com/sarvari1378/MemorialQR_Codes/main/Imagees/Taghizade/04.jpg",
                "https://raw.githubusercontent.com/sarvari1378/MemorialQR_Codes/main/Imagees/Taghizade/05.jpg",
                "https://raw.githubusercontent.com/sarvari1378/MemorialQR_Codes/main/Imagees/Taghizade/06.jpg",
                "https://raw.githubusercontent.com/sarvari1378/MemorialQR_Codes/main/Imagees/Taghizade/07.jpg",
                "https://raw.githubusercontent.com/sarvari1378/MemorialQR_Codes/main/Imagees/Taghizade/08.jpg",
                "https://raw.githubusercontent.com/sarvari1378/MemorialQR_Codes/main/Imagees/Taghizade/09.jpg",
                "https://raw.githubusercontent.com/sarvari1378/MemorialQR_Codes/main/Imagees/Taghizade/10.jpg",
                "https://raw.githubusercontent.com/sarvari1378/MemorialQR_Codes/main/Imagees/Taghizade/11.jpg",
                "https://raw.githubusercontent.com/sarvari1378/MemorialQR_Codes/main/Imagees/Taghizade/12.jpg",
                "https://raw.githubusercontent.com/sarvari1378/MemorialQR_Codes/main/Imagees/Taghizade/13.jpg",
                "https://raw.githubusercontent.com/sarvari1378/MemorialQR_Codes/main/Imagees/Taghizade/14.jpg",
                "https://raw.githubusercontent.com/sarvari1378/MemorialQR_Codes/main/Imagees/Taghizade/15.jpg"
              ]'>
                <div class="spinner"></div>
                <img alt="Slide Image" loading="lazy">
                <button class="prev">&#10094;</button>
                <button class="next">&#10095;</button>
                <div class="dots"></div>
              </div>
            </div>
            
            
            <!-- Quran Tabs -->
            <div id="Quran" class="tab-content">
            <h2 class="text-lg font-bold mb-4">Ù‚Ø±Ø¢Ù†</h2>
            
            <img id="quranImage"
                src="https://www.yadeo.ir/media/quran_pages/QuranDaneshAmouzi-001.jpg"
                alt="ØµÙØ­Ù‡ Ù‚Ø±Ø¢Ù†">

            <audio id="quranAudio" controls>
                <source src="https://www.yadeo.ir/media/quran_sound/Page001.mp3" type="audio/mpeg">
                Ù…Ø±ÙˆØ±Ú¯Ø± Ø´Ù…Ø§ Ø§Ø² Ù¾Ø®Ø´ ØµÙˆØª Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
            </audio>

            <button data-var="var4" onclick="updateContent()">Ø®ÙˆØ§Ù†Ø¯Ù…</button>
             <span class="value style: hidden" id="val-var4">Ø¯Ø±Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ...</span><button class= "style: hidden" data-var="var4">+</button>
            </div>


            <!-- Prays Tabs -->
            <div id="Prays" class="tab-content">
                


                <div class="left-column">
                <img id="displayImage" src="https://via.placeholder.com/600x400?text=Select+a+button" alt="Display" />
                <audio id="audioPlayer" controls>
                    Ù…Ø±ÙˆØ±Ú¯Ø± Ø´Ù…Ø§ Ø§Ø² Ù¾Ø®Ø´ ØµØ¯Ø§ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯
                </audio>
                </div>

                <div class="right-column" style="display: flex; flex-direction: column; ">
                <button class="Praysbtn" data-img="https://via.placeholder.com/600x400?text=Button+1+Image" data-audio="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3">Ø¯Ø¹Ø§ÛŒ Ú©Ù…ÛŒÙ„</button>
                <button class="Praysbtn" data-img="https://via.placeholder.com/600x400?text=Button+2+Image" data-audio="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3">Ø³ÙˆØ±Ù‡ ÛŒØ§Ø³ÛŒÙ†</button>
                <button class="Praysbtn" data-img="https://via.placeholder.com/600x400?text=Button+3+Image" data-audio="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3">Ø³ÙˆØ±Ù‡ Ø§Ù„Ø±Ø­Ù…Ù†</button>
                <button class="Praysbtn" data-img="https://via.placeholder.com/600x400?text=Button+4+Image" data-audio="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3">Ø¯Ø¹Ø§ÛŒ Ø§Ø±Ø­Ù… Ø§Ù„Ø±Ø§Ø­Ù…ÛŒÙ†</button>
                <button class="Praysbtn" data-img="https://via.placeholder.com/600x400?text=Button+5+Image" data-audio="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3">Ø¯Ø¹Ø§ÛŒ ÙØ±Ø¬</button>
                <button class="Praysbtn" data-img="https://via.placeholder.com/600x400?text=Button+6+Image" data-audio="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-6.mp3">Ø¯Ø¹Ø§ÛŒ Ø¹Ù‡Ø¯</button>
                <button class="Praysbtn" data-img="https://via.placeholder.com/600x400?text=Button+7+Image" data-audio="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-7.mp3">Ø¯Ø¹Ø§ÛŒ Ù…Ø¬ÛŒØ±</button>
                <button class="Praysbtn" data-img="https://via.placeholder.com/600x400?text=Button+8+Image" data-audio="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-8.mp3">Ø¯Ø¹Ø§ÛŒ Ù†Ø¯Ø¨Ù‡</button>
                </div>

            </div>

           <!-- ÙˆÛŒØ¯ÛŒÙˆÛŒ Ø³Ù…Øª Ú†Ù¾ -->
            <div class="video-container video-left">
                <video autoplay muted loop playsinline>
                <source src="https://sarvari1378.github.io/MemorialQR_Codes/Elements/candel.webm" type="video/webm">
                Ù…Ø±ÙˆØ±Ú¯Ø± Ø´Ù…Ø§ Ø§Ø² ÙˆÛŒØ¯ÛŒÙˆ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
                </video>
            </div>

            <!-- ÙˆÛŒØ¯ÛŒÙˆÛŒ Ø³Ù…Øª Ú†Ù¾ -->
            <div class="cheragh-container ">
                <video autoplay muted loop playsinline>
                <source src="https://sarvari1378.github.io/MemorialQR_Codes/Elements/light.webm" type="video/webm">
                Ù…Ø±ÙˆØ±Ú¯Ø± Ø´Ù…Ø§ Ø§Ø² ÙˆÛŒØ¯ÛŒÙˆ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
                </video>
            </div>

          
          <!-- Footer Section -->
          <footer>
            <p>Ø§Ú¯Ø± Ù…Ø«Ù„ Ø§ÛŒÙ† ØµÙØ­Ù‡ Ø±Ùˆ Ø¨Ø±Ø§ÛŒ Ø¹Ø²ÛŒØ²Øª Ù…ÛŒØ®ÙˆØ§ÛŒ Ø¨Ø§Ù‡Ø§Ù… ØªÙ…Ø§Ø³ Ø¨Ú¯ÛŒØ±  (Ø³Ø±ÙˆØ±ÛŒ) 09156691466</p>
          </footer>
          
          <!-- Generic Photo Gallery Script with Swipe Animation, Dots, and Image Caching -->
          <script>
            document.addEventListener("DOMContentLoaded", function(){
              // Global cache for images that have already loaded
              let loadedImagesCache = {};
          
              document.querySelectorAll('.gallery').forEach(function(gallery){
                let images;
                try {
                  images = JSON.parse(gallery.getAttribute('data-images'));
                } catch (e) {
                  console.error("Error parsing images data:", e);
                  return;
                }
                let index = 0;
                const imgEl = gallery.querySelector('img');
                const nextBtn = gallery.querySelector('.next');
                const prevBtn = gallery.querySelector('.prev');
                const spinner = gallery.querySelector('.spinner');
                const dotsContainer = gallery.querySelector('.dots');
          
                // Create navigation dots for each image in the gallery.
                images.forEach((_, idx) => {
                  const dot = document.createElement('div');
                  dot.className = 'dot' + (idx === 0 ? ' active' : '');
                  dot.addEventListener('click', function(){
                    if (idx !== index) {
                      transitionToImage(idx, idx > index ? "next" : "prev");
                    }
                  });
                  dotsContainer.appendChild(dot);
                });
          
                function updateDots() {
                  const dots = dotsContainer.querySelectorAll('.dot');
                  dots.forEach((dot, idx) => {
                    dot.classList.toggle('active', idx === index);
                  });
                }
          
                function preloadNext() {
                  const nextIndex = (index + 1) % images.length;
                  const preloadedImg = new Image();
                  preloadedImg.src = images[nextIndex];
                }
          
                function transitionToImage(newIndex, direction) {
                  const newImageURL = images[newIndex];
                  // Only show spinner if this image has not been loaded before.
                  if (!loadedImagesCache[newImageURL]) {
                    spinner.style.display = "block";
                  } else {
                    spinner.style.display = "none";
                  }
                  // Slide out the current image.
                  if (direction === "next") {
                    imgEl.style.transition = "transform 0.5s ease";
                    imgEl.style.transform = "translateX(-100%)";
                  } else {
                    imgEl.style.transition = "transform 0.5s ease";
                    imgEl.style.transform = "translateX(100%)";
                  }
                  setTimeout(() => {
                    // Update index and image source.
                    index = newIndex;
                    imgEl.src = newImageURL;
                    updateDots();
                    // If image is cached, hide spinner immediately.
                    if (loadedImagesCache[newImageURL]) {
                      spinner.style.display = "none";
                    }
                    // Prepare the image off-screen for the slide-in effect.
                    if (direction === "next") {
                      imgEl.style.transition = "none";
                      imgEl.style.transform = "translateX(100%)";
                    } else {
                      imgEl.style.transition = "none";
                      imgEl.style.transform = "translateX(-100%)";
                    }
                    // Force reflow.
                    void imgEl.offsetWidth;
                    // Slide the image into view.
                    imgEl.style.transition = "transform 0.5s ease";
                    imgEl.style.transform = "translateX(0)";
                    preloadNext();
                  }, 500);
                }
          
                nextBtn.addEventListener("click", function(){
                  const newIndex = (index + 1) % images.length;
                  transitionToImage(newIndex, "next");
                });
                prevBtn.addEventListener("click", function(){
                  const newIndex = (index - 1 + images.length) % images.length;
                  transitionToImage(newIndex, "prev");
                });
          
                // When the image loads, mark it as cached.
                imgEl.addEventListener("load", function(){
                  loadedImagesCache[imgEl.src] = true;
                  spinner.style.display = "none";
                });
          
                // Initialize gallery.
                imgEl.src = images[index];
                preloadNext();
              });
              
              // For non-gallery images, hide spinner when loaded.
              document.querySelectorAll('.img-container img').forEach(function(image){
                image.addEventListener("load", function(){
                  let sp = image.parentElement.querySelector('.spinner');
                  if(sp) sp.style.display = "none";
                });
              });
            });
          </script>
          
          <!-- Button Click Animations -->
          <script>
            document.querySelectorAll('.action-button').forEach(button => {
              button.addEventListener('click', function () {
                this.classList.add('clicked');
                setTimeout(() => this.classList.remove('clicked'), 100);
              });
            });
            document.querySelectorAll('.icon-button').forEach(button => {
              button.addEventListener('click', function () {
                this.classList.add('clicked');
                setTimeout(() => this.classList.remove('clicked'), 100);
              });
            });
          </script>

         <!-- Quran page logic -->
        <script>
    // Ø´Ù…Ø§Ø±Ù‡ ØµÙØ­Ù‡ ÙØ¹Ù„ÛŒ
    let currentPage = parseInt(document.getElementById("val-var4")?.textContent.trim() || "1", 10);

    
    // ØªØ¹Ø¯Ø§Ø¯ ØµÙØ­Ø§Øª Ù‚Ø±Ø¢Ù† (Ù…Ø«Ù„Ø§Ù‹ 604 ØµÙØ­Ù‡)
    const totalPages = 604;

    // ØªØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…Ø­ØªÙˆØ§
    function updateContent() {
  const valElement = document.getElementById("val-var4");
  const valText = valElement ? valElement.textContent.trim() : "0";
  const parsedPage = parseInt(valText, 10);

  if (isNaN(parsedPage)) {
    alert('Ù…Ù‚Ø¯Ø§Ø± ØµÙØ­Ù‡ Ù…Ø¹ØªØ¨Ø± Ù†ÛŒØ³Øª!');
    return;
  }

  let currentPage = parsedPage;

  if (currentPage >= totalPages) {
    alert('Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ù‚Ø±Ø¢Ù† Ø±Ø³ÛŒØ¯ÛŒØ¯!');
    return;
  }

  currentPage++;

  // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªØµÙˆÛŒØ± ØµÙØ­Ù‡ Ø¬Ø¯ÛŒØ¯
  document.getElementById("quranImage").src =
    `https://www.yadeo.ir/media/quran_pages/QuranDaneshAmouzi-${String(currentPage).padStart(3, '0')}.jpg`;

  // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØµØ¯Ø§ÛŒ ØµÙØ­Ù‡ Ø¬Ø¯ÛŒØ¯
  const audio = document.getElementById("quranAudio");
  audio.src =
    `https://www.yadeo.ir/media/quran_sound/Page${String(currentPage).padStart(3, '0')}.mp3`;
  audio.load();

  // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…Ù‚Ø¯Ø§Ø± Ø¯Ø± span
  valElement.textContent = currentPage;
}

        </script>




        <!-- profile page logic -->
        <script>
  const images = [
    "https://raw.githubusercontent.com/sarvari1378/MemorialQR_Codes/main/Imagees/Taghizade/Profile2.jpg"
  ];

  const profileImg = document.getElementById('profile-gallery-img');
  const modal = document.getElementById('profile-gallery-modal');
  const modalImg = document.getElementById('profile-gallery-modal-img');
  const closeBtn = document.getElementById('profile-gallery-closeBtn');
  const prevBtn = document.getElementById('profile-gallery-prevBtn');
  const nextBtn = document.getElementById('profile-gallery-nextBtn');

  let currentIndex = 0;

  profileImg.addEventListener('click', () => {
    currentIndex = 0;
    showImage(currentIndex);
    modal.classList.add('active');
  });

  function showImage(index) {
    modalImg.src = images[index];
  }

  closeBtn.addEventListener('click', () => {
    modal.classList.remove('active');
  });

  prevBtn.addEventListener('click', () => {
    currentIndex = (currentIndex - 1 + images.length) % images.length;
    showImage(currentIndex);
  });

  nextBtn.addEventListener('click', () => {
    currentIndex = (currentIndex + 1) % images.length;
    showImage(currentIndex);
  });

  modal.addEventListener('click', (e) => {
    if (e.target === modal) {
      modal.classList.remove('active');
    }
  });
        </script>

         <!-- variables worker logic -->
        <script>
        const baseUrl = 'https://variable.cobaka6220.workers.dev';

        // ØªØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ Ú¯Ø±ÙØªÙ† Ù…Ù‚Ø¯Ø§Ø± Ù…ØªØºÛŒØ± Ø§Ø² Worker
        async function getValue(varName) {
            try {
            const res = await fetch(`${baseUrl}/${varName}/get`);
            if (!res.ok) throw new Error('Network response was not ok');
            const data = await res.json();
            return parseInt(data.value) || 0;
            } catch(e) {
            console.error(e);
            return 0;
            }
        }

        // ØªØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ù…Ù‚Ø¯Ø§Ø± Ø¬Ø¯ÛŒØ¯
        async function postValue(varName, newValue) {
            try {
            const res = await fetch(`${baseUrl}/${varName}/post/${newValue}`, { method: 'POST' });
            if (!res.ok) throw new Error('Network response was not ok');
            const data = await res.json();
            return data.value;
            } catch(e) {
            console.error(e);
            return null;
            }
        }

        // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…Ù‚Ø¯Ø§Ø± Ø¯Ø± ØµÙØ­Ù‡
        async function updateValueDisplay(varName) {
            const val = await getValue(varName);
            document.getElementById('val-' + varName).textContent = val;
        }

        // ØªÙ†Ø¸ÛŒÙ… Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©Ù„ÛŒÚ© Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§
        document.querySelectorAll('button[data-var]').forEach(btn => {
            const varName = btn.getAttribute('data-var');
            // Ø§Ø¨ØªØ¯Ø§ Ù…Ù‚Ø¯Ø§Ø± Ø±Ùˆ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
            updateValueDisplay(varName);

            btn.addEventListener('click', async () => {
            btn.disabled = true; // Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ú†Ù†Ø¯ Ú©Ù„ÛŒÚ© Ù‡Ù…Ø²Ù…Ø§Ù†
            let currentVal = await getValue(varName);
            const newVal = currentVal + 1; // Ø¹Ø¯Ø¯ Ø¬Ø¯ÛŒØ¯ØŒ 1 Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
            const storedVal = await postValue(varName, newVal);
            if (storedVal !== null) {
                document.getElementById('val-' + varName).textContent = storedVal;
            }
            btn.disabled = false;
            });
        });
        </script>

 <!-- Quran page logic -->
<script>
document.addEventListener("DOMContentLoaded", () => {
  const indexElement = document.getElementById("val-var4");
  const img = document.getElementById("quranImage");
  const audio = document.getElementById("quranAudio");
  const audioSource = audio.querySelector("source");

  if (!indexElement || !img || !audioSource) return;

  const loadMedia = () => {
    let content = indexElement.textContent.trim();
    if (content === "Ø¯Ø±Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ...") return;

    let pageIndex = parseInt(content);
    if (isNaN(pageIndex) || pageIndex < 1 || pageIndex > 604) {
      pageIndex = 1; // fallback
    }

    const padded = String(pageIndex).padStart(3, '0');
    img.src = `https://www.yadeo.ir/media/quran_pages/QuranDaneshAmouzi-${padded}.jpg`;
    audioSource.src = `https://www.yadeo.ir/media/quran_sound/Page${padded}.mp3`;
    audio.load();
  };

  // Ø§Ú¯Ø± Ù…Ù‚Ø¯Ø§Ø± Ø¢Ù…Ø§Ø¯Ù‡ Ø¨ÙˆØ¯ØŒ Ø¨Ù„Ø§ÙØ§ØµÙ„Ù‡ Ø§Ø¬Ø±Ø§ Ú©Ù†
  if (indexElement.textContent.trim() !== "Ø¯Ø±Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ...") {
    loadMedia();
  } else {
    // Ø§Ú¯Ø± Ø¢Ù…Ø§Ø¯Ù‡ Ù†Ø¨ÙˆØ¯ØŒ ØµØ¨Ø± Ú©Ù† ØªØ§ Ù…Ù‚Ø¯Ø§Ø± ØªØºÛŒÛŒØ± Ú©Ù†Ù‡
    const observer = new MutationObserver(() => {
      if (indexElement.textContent.trim() !== "Ø¯Ø±Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ...") {
        observer.disconnect(); // Ø¯ÛŒÚ¯Ù‡ Ù†ÛŒØ§Ø²ÛŒ Ø¨Ù‡ Ú¯ÙˆØ´ Ø¯Ø§Ø¯Ù† Ù†ÛŒØ³Øª
        loadMedia();
      }
    });

    observer.observe(indexElement, { childList: true });
  }
});
</script>



<script>
  const buttons = document.querySelectorAll('.Praysbtn');

  buttons.forEach(button => {
    button.addEventListener('click', () => {
      // Remove active from all buttons
      buttons.forEach(btn => btn.classList.remove('active'));
      // Add active to clicked button
      button.classList.add('active');
    });
  });
</script>

        </body>
        </html>
